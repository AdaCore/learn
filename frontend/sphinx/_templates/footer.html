{%- macro nextprev(prev_but, next_but) %}
  {% if (theme_prev_next_buttons_location == 'bottom' or theme_prev_next_buttons_location == 'both') and (next or prev) %}
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
          {% if next and next_but %}
            <a href="{{ next.link|e }}" class="btn btn-neutral float-right" title="{{ next.title|striptags|e }}" accesskey="n" rel="next">{{ _('Next') }} <span class="fa fa-arrow-circle-right"></span></a>
          {% endif %}
          {% if prev and prev_but %}
            <a href="{{ prev.link|e }}" class="btn btn-neutral" title="{{ prev.title|striptags|e }}" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> {{ _('Previous') }}</a>
          {% endif %}
        </div>
  {% endif %}
{%- endmacro %}


<footer>
  {%- set next_state = '' %}
  {%- set next_state_key = 'next_state' %}

  {%- set prev_state = '' %}
  {%- set prev_state_key = 'prev_state' %}

  {%- if meta is defined and meta is not none %}
      {% set next_but = not next_state_key in meta.keys() %}
      {% set prev_but = not prev_state_key in meta.keys() %}

      {{ nextprev(prev_but, next_but) }}
  {%- else %}
    {{ nextprev(true, true) }}
  {%- endif %}


  <hr/>

  <div class="legal">
              Copyright &copy; {{ year }} AdaCore. All rights reserved.
              &nbsp;&nbsp;
              <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
              <br>
              <a href="https://www.adacore.com/company/legal">Legal</a>
              &nbsp; |  &nbsp;
              <a href="https://www.adacore.com/company/privacy">Privacy Policy</a>
              &nbsp; |  &nbsp;
              <a href="https://github.com/AdaCore/learn/issues">Report an Issue</a>
            </div>

  {%- block extrafooter %} {% endblock %}

</footer>

